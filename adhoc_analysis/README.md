# **Анализ данных строительной компании с использованием SQL**

## **Описание проекта**

Проект представляет собой набор SQL-запросов для анализа данных строительной компании. Цель — ответить на ключевые вопросы бизнеса, связанные с проектами, сотрудниками и финансами, с помощью SQL.

---

## Цель проекта

Цель проекта — показать умение работать с реляционными данными, формулировать SQL-запросы под реальные потребности бизнеса и использовать продвинутые возможности SQL для аналитики.

---
## Стек технологий

- **СУБД:** PostgreSQL  
- **Основные инструменты SQL:**
  - `JOIN`, `GROUP BY`, `HAVING`
  - оконные функции (`SUM() OVER`, `ROW_NUMBER`, `DENSE_RANK`, `LAG`, `AVG`)
  - CTE и рекурсивные запросы
  - функции работы с датами (`EXTRACT`, `DATE_TRUNC`, `AGE`)
  - агрегирование строк (`STRING_AGG`)
  - материализованные представления

---

## Обзор данных

Используется условная база данных **строительной компании**, включающая следующие сущности:

- `project` — проекты компании (id, дата подписания, стоимость, менеджер, статус).
- `employee` и `person` — данные сотрудников (id, ФИО, дата рождения, дата найма/увольнения).
- `project_payment` — плановые и фактические платежи по проектам.
- `customer`, `address`, `city`, `country` — информация о контрагентах и их географии.
- `company_structure`, `position`, `employee_positio` — структура подразделений и должностей.
- `type_of_work`, `customer_type_of_work` — типы выполняемых работ контрагентами.

База данных имитирует реальную корпоративную структуру и позволяет решать комплексные аналитические задачи.


---

## Содержание кейсов

В проекте реализовано **10 аналитических бизнес-запросов**:

1. Анализ деловой активности компании (количество новых проектов в разрезе по году).
2. Анализ возрастной структуры сотрудников.
3. Поиск сотрудников по заданным критериям.
4. Анализ уволенных сотрудников, не задействованных в проектах.
5. Расчёт фактически полученных платежей по регионам.
6. Расчёт бонусов руководителей проектов.
7. Анализ накопительных авансовых платежей.
8. Расчёт фонда оплаты труда с учётом иерархии подразделений.
9. Анализ платежей с использованием скользящего среднего.
10. Формирование итогового отчёта в виде материализованного представления.

---

**Автор:** [Францева Юлия](https://career.habr.com/jf_yukka)

---

